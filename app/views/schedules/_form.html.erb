<%= form_for @schedule do |f| %>
  <% if @schedule.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@schedule.errors.count, "error") %> prohibited this schedule from being saved:</h2>

      <ul>
      <% @schedule.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>
  
<div id="Act_options">  
	<%= options_from_collection_for_select(Act.all, :id, :name) %>
</div>

<div id="Event_options">
	<%= options_from_collection_for_select(Event.all, :id, :name) %>
</div>

<h3>Schedule A Parent</h3>
<div style="margin: 10px;">

  <div class="field">
    <%= f.label 'Select a schedulable parent' %><br />
	<%= f.select(:schedulable_type, ["Act", "Event"]) %><%= f.collection_select(:schedulable_id, @schedulables, :id, :name)%>
  </div>

  <div class="field">
    <%= f.label 'Select Venue/Location' %><br />
	<%= f.collection_select(:location_id, @locations, :id, :form_picker_name)%>
  </div>

  <div class="field">
    <%= f.label :start %><br />
	<%= f.text_field :start, :id => "datepickerstart" %>
	<script type="text/javascript">
	  AnyTime.picker( "datepickerstart", { format: "%Y-%m-%d %T", firstDOW: 1 } );
	</script>
  </div>

  <div class="field">
    <%= f.label :end %><br />
	<%= f.text_field :end, :id => "datepickerend" %>
	<script type="text/javascript">
	  AnyTime.picker( "datepickerend",   { format: "%Y-%m-%d %T", firstDOW: 1 } );
	</script>
  </div>
</div>

<% if false %>
<div id="children" style="margin-top: 20px; border-top: 1px solid #000;">
	<p style="background-color: #fff; padding: 3px; top: -15px;">Child Items:</p>
	<%= link_to_add_fields "Add Child", f, :children %>
    <%= f.fields_for :children do |builder| %>
		<%= render "child_fields", :f => builder %>
    <% end %>
</div>  
<% end %>

<div class="actions" style="padding: 20px 0;">
<%= f.submit %>
</div>

</div>
<% end %>


